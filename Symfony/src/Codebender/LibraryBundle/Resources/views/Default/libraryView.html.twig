
<!DOCTYPE html>
<html>
<head>
{% include 'CodebenderLibraryBundle:Default:includes.html.twig' %}


    <title></title>
    <script>
        $(function() {
            $( "#filesAccordion" ).accordion({
                collapsible: true,
                active: false,
                heightStyle: "content"
            });
            $( "#examplesAccordion").accordion({
                collapsible: true,
                active: false,
                heightStyle: "content"
            });
        });
    </script>
</head>
<body>
<div>
    <h1>{{ library }} </h1>
        {% if meta %}
            <label
                    {% if meta.verified %}
                        class="icon-ok" title="This is a Verified Library."
                    {% else %}
                        class="icon-warning-sign" title="Not Verified. Use at your own risk."
                    {% endif %}
                    >
            </label>
        <h3>{{ meta.humanName }}</h3>
        <p>{{ meta.description }}</p>
        {% if meta.gitOwner and meta.gitRepo %}
            <a class="btn btn-primary" href = "http://www.github.com/{{ meta.gitOwner }}/{{ meta.gitRepo }}">Github Repository</a>
        {% endif %}
    {% endif %}


<a id="download" class="btn btn-success"
    href="{{ path('codebender_library_download', { 'library' : library }) }}">Download</a>
</div>
<div>
    <h3>Files:</h3>

    <div class="accordion" id="files_accordion">
        {% set get_example_hash = { 'auth_key':   (auth_key)  , 'version': 'v1' } %}
        {% for file in files %}
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle" style="display:inline" data-toggle="collapse" data-parent="#files_accordion" href="#files_collapse{{ loop.index }}">
                    {{ file.filename }} <label class = 'icon-chevron-down'></label>
                </a>
                <a href = "{{ path('codebender_library_get_example_code', get_example_hash) }}?file={{ library }}/{{ file.filename }}"> <label class = "icon-file" title="Raw data"></label></a>

            </div>
            <div id="files_collapse{{ loop.index }}" class="accordion-body collapse">
                <div class="accordion-inner">
                    <pre>{{ file.content }}</pre>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <h3>Examples:</h3>
    <div class="accordion" id="examples_accordion">
        {% for file in examples %}
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" style="display:inline" data-toggle="collapse" data-parent="#examples_accordion" href="#examples_collapse{{ loop.index }}">
                        {{ file.filename }} <label class = 'icon-chevron-down'></label>
                    </a>
                    <a href = "{{ path('codebender_library_get_example_code',  get_example_hash) }}?file={{ library }}/{{ file.filename }}"> <label class = "icon-file" title="Raw data"></label></a>
                </div>
                <div id="examples_collapse{{ loop.index }}" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <pre>{{ file.content }}</pre>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
</body>
</html>